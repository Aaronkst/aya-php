<?php declare (strict_types=1); namespace Aya\OnlineMerchant; function api(array $VkrVU, string $Zhv60, string $PCn3b, array $ZzL2W) : object { goto NFC2x; AcbXQ: throw new \Exception($BKvSN->message); goto K8FW5; q5PVN: sZrUf: goto qenvn; En4qI: curl_setopt($liGfT, CURLOPT_SSL_VERIFYPEER, TRUE); goto K3Bur; NIspZ: goto hsN_o; goto q5PVN; o5wkR: curl_setopt($liGfT, CURLOPT_POST, TRUE); goto Iy2EL; K8FW5: svDWl: goto irWiD; FiCqN: $BKvSN = curl_exec($liGfT); goto wy50D; K3Bur: curl_setopt($liGfT, CURLOPT_POSTFIELDS, http_build_query($VkrVU)); goto FiCqN; sjYQD: $BKvSN = json_decode($BKvSN); goto R3j2X; dgYop: curl_setopt($liGfT, CURLOPT_HTTPHEADER, $ZzL2W); goto o5wkR; irWiD: return $BKvSN; goto NIspZ; NFC2x: $liGfT = curl_init("\x68\164\x74\x70\x73\x3a\x2f\x2f{$Zhv60}{$PCn3b}"); goto dgYop; R3j2X: if (!(isset($BKvSN->err) && $BKvSN->err !== 200)) { goto svDWl; } goto AcbXQ; F6cl9: hsN_o: goto qVgAJ; JwfDf: curl_close($liGfT); goto qEmK1; qEmK1: if ($h1qG2) { goto sZrUf; } goto sjYQD; wy50D: $h1qG2 = curl_error($liGfT); goto JwfDf; Iy2EL: curl_setopt($liGfT, CURLOPT_RETURNTRANSFER, TRUE); goto En4qI; qenvn: throw $h1qG2; goto F6cl9; qVgAJ: } class AyaOnlineMerchant { public string $key; public string $secret; public string $phone; public string $password; private string $prefix; private string $base; private bool $production; private string $decryptKey; private string $accesstoken; private string $usertoken; public function __construct(string $njWXl, string $N83TI, string $om0Oq, string $ZgURf, string $BwUrX, bool $XXojU = false) { goto HoCEv; HoCEv: $this->key = $njWXl; goto mQks4; iaemM: $this->phone = $om0Oq; goto zMl9Z; mQks4: $this->secret = $N83TI; goto iaemM; qyD2W: $this->prefix = $this->production ? implode('', ["\x2f\155\x65\x72\143\150\x61\x6e\164", "\x2f\x31\x2e\60\56\x30"]) : implode('', ["\x2f\157\155", "\x2f\x31\x2e\x30\56\x30"]); goto YG3rp; yTWKZ: $this->decryptKey = $BwUrX; goto Opajh; ysr44: $this->production = $XXojU; goto qyD2W; YG3rp: $this->base = $this->production ? implode("\56", ["\141\x70\x69", "\x61\x79\x61\160\x61\171", "\143\157\x6d"]) : implode("\56", ["\157\x70\x65\156\163\x61\x6e\144\x62\157\170", "\141\171\141\x69\x6e\x6e\157\x76\x61\x74\x69\x6f\156", "\143\157\155"]); goto yTWKZ; zMl9Z: $this->password = $ZgURf; goto ysr44; Opajh: } private function getAccessToken() : bool { try { goto yy2JQ; Wvk6C: $ZzL2W = array(); goto nI2JJ; AK3o6: $mEfGX = array("\x67\162\x61\156\164\x5f\164\171\x70\x65" => "\143\154\x69\x65\156\x74\137\x63\162\145\x64\x65\156\164\x69\x61\x6c\x73"); goto Wvk6C; yy2JQ: $PCn3b = "\57\164\157\153\x65\156"; goto AK3o6; DpSJt: $I3H_6 = api($mEfGX, $this->base, $PCn3b, $ZzL2W); goto WHnR0; WHnR0: $this->accesstoken = $I3H_6->access_token; goto ZDm5c; nI2JJ: $ZzL2W[] = "\101\x75\x74\150\x6f\162\151\172\x61\164\x69\x6f\156\72\x20\102\141\163\x69\x63\x20" . base64_encode("{$this->key}\x3a{$this->secret}"); goto DpSJt; ZDm5c: return TRUE; goto Jt_tv; Jt_tv: } catch (\Exception $iDx5N) { print_r($iDx5N); throw $iDx5N; } } private function getUserToken() : bool { try { goto mBgGr; cKBqq: $I3H_6 = api($mEfGX, $this->base, $PCn3b, $ZzL2W); goto J9naa; mBgGr: $IxbB5 = $this->getAccessToken(); goto AzANx; J9naa: $this->usertoken = $I3H_6->token->token; goto ZNlKu; EhRtb: $PCn3b = "{$this->prefix}\x2f\164\x68\x69\162\144\x70\141\x72\164\171\57\155\145\x72\143\x68\141\x6e\164\x2f\x6c\157\x67\x69\156"; goto dat5K; dat5K: $mEfGX = array("\x70\150\x6f\x6e\145" => $this->phone, "\160\x61\163\163\x77\x6f\162\x64" => $this->password); goto nTady; BA6YU: $ZzL2W[] = "\124\157\153\x65\x6e\x3a\x20\102\145\x61\x72\x65\x72\40{$this->accesstoken}"; goto cKBqq; keFBk: throw new \Exception("\x41\143\x63\145\x73\163\40\x54\157\153\145\x6e\x20\106\x61\151\154\165\162\x65"); goto nl5jb; nTady: $ZzL2W = array(); goto BA6YU; ZNlKu: return TRUE; goto BRVz6; nl5jb: C_UcR: goto EhRtb; AzANx: if (!($IxbB5 !== TRUE)) { goto C_UcR; } goto keFBk; BRVz6: } catch (\Exception $iDx5N) { print_r($iDx5N); throw $iDx5N; } } public function createTransaction(string $Dz3qp, string $owAWC, string $W3C2V, string $iD4Zu, bool $mKQK0 = false, string $Gh4wx = '', int $nrZ2t = 0) : object { try { goto SxWUJ; m_1jM: leHZT: goto I0Ugu; Vf1A9: $ZzL2W = array(); goto fBdbX; CVG0V: $mEfGX = array("\x63\x75\x73\164\157\155\x65\162\120\150\157\156\x65" => $Dz3qp, "\x61\155\x6f\165\x6e\x74" => $owAWC, "\143\x75\162\x72\145\156\143\x79" => "\115\115\x4b", "\x65\x78\x74\x65\x72\156\x61\154\124\x72\141\156\x73\141\x63\164\151\x6f\156\111\x64" => $W3C2V, "\x65\170\164\145\162\x6e\141\x6c\x41\144\x64\151\x74\x69\x6f\x6e\141\x6c\x44\x61\x74\141" => $iD4Zu, "\163\x65\162\x76\151\x63\x65\103\x6f\144\145" => $Gh4wx, "\164\x69\x6d\x65\154\x69\x6d\x69\x74" => $nrZ2t ? $nrZ2t : ''); goto Vf1A9; azkWG: return $I3H_6; goto y_qM9; SxWUJ: if (!($mKQK0 && $Gh4wx === '')) { goto uESCn; } goto QZZKE; pcxoa: $ZzL2W[] = "\x41\165\x74\x68\157\162\151\172\141\x74\x69\157\x6e\72\40\x42\145\141\x72\145\162\40{$this->usertoken}"; goto yFavV; yFavV: $I3H_6 = api($mEfGX, $this->base, $PCn3b, $ZzL2W); goto azkWG; I0Ugu: $PCn3b = $mKQK0 ? "{$this->prefix}\x2f\x74\x68\151\162\x64\160\141\x72\164\x79\x2f\155\145\x72\x63\150\141\x6e\164\x2f\x76\62\57\162\x65\161\165\x65\163\164\x50\x75\x73\150\120\141\171\155\145\x6e\164" : "{$this->prefix}\x2f\x74\x68\x69\x72\144\160\x61\162\164\x79\x2f\155\145\x72\x63\x68\141\156\x74\57\x72\145\x71\x75\x65\x73\x74\120\141\171\x6d\145\x6e\x74"; goto CVG0V; fBdbX: $ZzL2W[] = "\124\x6f\x6b\x65\x6e\72\40\102\x65\x61\162\x65\x72\40{$this->accesstoken}"; goto pcxoa; PgvWv: uESCn: goto oXiKs; QZZKE: throw new \Exception("\x53\145\162\x76\x69\143\x65\x20\103\157\x64\x65\40\x72\x65\161\x75\151\162\x65\144\x20\x66\157\162\x20\x56\62\x20\x41\x50\111"); goto PgvWv; xSzLm: throw new \Exception("\125\x73\x65\162\40\x54\157\153\145\156\x20\106\141\x69\154\165\x72\145"); goto m_1jM; oXiKs: $IxbB5 = $this->getUserToken(); goto rZ_6b; rZ_6b: if (!($IxbB5 !== TRUE)) { goto leHZT; } goto xSzLm; y_qM9: } catch (\Exception $iDx5N) { print_r($iDx5N); throw $iDx5N; } } public function createQR(string $owAWC, string $W3C2V, string $iD4Zu, bool $mKQK0 = false, string $Gh4wx = '', int $nrZ2t = 0) : object { try { goto HCwYO; GqmVo: $IxbB5 = $this->getUserToken(); goto hBPPH; Ba6si: RLEKf: goto GqmVo; FIIbq: $mEfGX = array("\x61\155\157\x75\x6e\x74" => $owAWC, "\143\165\162\162\x65\x6e\143\x79" => "\115\115\113", "\x65\x78\164\x65\x72\156\141\154\x54\x72\141\x6e\x73\x61\143\x74\x69\x6f\x6e\x49\144" => $W3C2V, "\x65\x78\x74\145\162\156\x61\x6c\x41\x64\x64\x69\164\151\x6f\x6e\141\x6c\x44\141\x74\141" => $iD4Zu, "\x73\145\162\x76\x69\143\145\103\157\x64\x65" => $Gh4wx, "\x74\x69\x6d\x65\154\151\155\151\164" => $nrZ2t ? $nrZ2t : ''); goto OuAwX; F4206: $PCn3b = $mKQK0 ? "{$this->prefix}\57\x74\x68\x69\162\x64\160\x61\x72\x74\x79\57\x6d\x65\x72\143\150\x61\156\x74\x2f\x76\x32\57\162\145\161\x75\145\163\x74\121\122\120\141\171\155\145\156\x74" : "{$this->prefix}\57\x74\150\151\x72\x64\x70\141\x72\164\x79\57\x6d\145\162\143\150\x61\156\164\57\162\145\x71\165\x65\x73\164\121\x52\120\x61\x79\x6d\x65\x6e\164"; goto FIIbq; oHQ57: MGXrT: goto F4206; HCwYO: if (!($mKQK0 && $Gh4wx === '')) { goto RLEKf; } goto mCFYj; s2LYc: $I3H_6 = api($mEfGX, $this->base, $PCn3b, $ZzL2W); goto kGkQv; qgDSv: $ZzL2W[] = "\x54\157\x6b\x65\x6e\72\x20\x42\145\141\162\145\162\40{$this->accesstoken}"; goto iCnNs; iCnNs: $ZzL2W[] = "\101\165\164\150\157\162\x69\172\x61\x74\151\157\156\72\40\x42\x65\x61\162\145\162\x20{$this->usertoken}"; goto s2LYc; HxC5t: throw new \Exception("\125\163\145\x72\40\x54\157\153\145\x6e\x20\106\x61\151\x6c\x75\x72\x65"); goto oHQ57; OuAwX: $ZzL2W = array(); goto qgDSv; kGkQv: return $I3H_6; goto C9t2_; hBPPH: if (!($IxbB5 !== TRUE)) { goto MGXrT; } goto HxC5t; mCFYj: throw new \Exception("\123\x65\162\166\x69\x63\x65\x20\x43\x6f\144\x65\40\162\145\x71\165\x69\162\x65\x64\40\146\x6f\162\40\x56\x32\x20\x41\120\111"); goto Ba6si; C9t2_: } catch (\Exception $iDx5N) { print_r($iDx5N); throw $iDx5N; } } public function refundPayment(string $bdd1I, string $W3C2V) : object { try { goto jFHIJ; sDLf0: return $I3H_6; goto HMtdV; nybVk: $PCn3b = "{$this->prefix}\57\x74\150\151\x72\144\160\141\x72\x74\x79\57\155\145\x72\143\150\141\156\x74\57\x72\145\x66\x75\156\144\120\x61\171\x6d\145\156\x74"; goto cNXEd; cNXEd: $mEfGX = array("\145\170\164\x65\162\156\141\x6c\x54\x72\141\156\163\141\x63\x74\x69\x6f\x6e\111\x64" => $W3C2V, "\x72\145\146\145\x72\x65\156\x63\145\116\x75\x6d\x62\145\162" => $bdd1I); goto sF4p6; jFHIJ: $IxbB5 = $this->getUserToken(); goto TcwZk; LhCS3: $ZzL2W[] = "\124\x6f\153\x65\156\72\40\x42\145\141\x72\x65\162\x20{$this->accesstoken}"; goto pRA8_; Izmw0: nleVO: goto nybVk; pRA8_: $ZzL2W[] = "\101\x75\164\x68\157\162\x69\x7a\141\164\x69\157\156\72\x20\102\x65\x61\x72\x65\162\40{$this->usertoken}"; goto RT42E; RT42E: $I3H_6 = api($mEfGX, $this->base, $PCn3b, $ZzL2W); goto sDLf0; sF4p6: $ZzL2W = array(); goto LhCS3; U7Hs9: throw new \Exception("\x55\163\x65\162\x20\x54\x6f\153\x65\x6e\x20\x46\141\x69\154\x75\x72\x65"); goto Izmw0; TcwZk: if (!($IxbB5 !== TRUE)) { goto nleVO; } goto U7Hs9; HMtdV: } catch (\Exception $iDx5N) { print_r($iDx5N); throw $iDx5N; } } public function decryptPayment(string $mEfGX) : object { try { goto pmcXJ; SRSGu: $FzqFV = openssl_decrypt($kK8nS, $d8ZyP, $this->decryptKey, OPENSSL_RAW_DATA); goto Y725e; rKq9y: $kK8nS = base64_decode($mEfGX); goto SRSGu; pmcXJ: $d8ZyP = "\x41\x45\x53\x2d\x32\x35\66\55\105\x43\102"; goto rKq9y; Y725e: return json_decode($FzqFV); goto PTpsL; PTpsL: } catch (\Exception $iDx5N) { print_r($iDx5N); throw $iDx5N; } } }