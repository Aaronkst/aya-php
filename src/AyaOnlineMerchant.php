<?php declare (strict_types=1); namespace Aya\OnlineMerchant; function api(array $h8jaw, string $joVfn, string $PJHYg, array $AziZP) : object { goto vSqMn; wn4wJ: MjqIR: goto ONQYc; CEAsR: x2Jz3: goto IB0z2; Y0yGq: curl_setopt($T5J2U, CURLOPT_POSTFIELDS, http_build_query($h8jaw)); goto TVFCS; IB0z2: return $rnyjS; goto WHCRf; ofdsj: $rnyjS = json_decode($rnyjS); goto TpEPF; TVFCS: $rnyjS = curl_exec($T5J2U); goto zZozS; itIcu: curl_setopt($T5J2U, CURLOPT_SSL_VERIFYPEER, TRUE); goto Y0yGq; TpEPF: if (!(isset($rnyjS->err) && $rnyjS->err !== 200)) { goto x2Jz3; } goto FyzZm; RpduD: dcUVh: goto h3gA8; WHCRf: goto dcUVh; goto wn4wJ; ONQYc: throw $ytMA_; goto RpduD; zZozS: $ytMA_ = curl_error($T5J2U); goto nB8Ak; nB8Ak: curl_close($T5J2U); goto AcodZ; vSqMn: $T5J2U = curl_init("\x68\x74\164\160\163\72\x2f\x2f{$joVfn}{$PJHYg}"); goto ykxVI; AcodZ: if ($ytMA_) { goto MjqIR; } goto ofdsj; bcvpf: curl_setopt($T5J2U, CURLOPT_RETURNTRANSFER, TRUE); goto itIcu; vgaTn: curl_setopt($T5J2U, CURLOPT_POST, TRUE); goto bcvpf; ykxVI: curl_setopt($T5J2U, CURLOPT_HTTPHEADER, $AziZP); goto vgaTn; FyzZm: throw new \Exception($rnyjS->message); goto CEAsR; h3gA8: } class AyaOnlineMerchant { public string $key; public string $secret; public string $phone; public string $password; private string $prefix; private string $base; private bool $production; private string $decryptKey; private string $accesstoken; private string $usertoken; public function __construct(string $PPxPe, string $I288W, string $XVhtO, string $D2Hyo, string $uMmER, bool $AaBYz = false) { goto EGuuE; ab2TF: $this->production = $AaBYz; goto g0KLm; EGuuE: $this->key = $PPxPe; goto sKlc9; sKlc9: $this->secret = $I288W; goto fmDQP; g0KLm: $this->decryptKey = $uMmER; goto o6UsU; F8Q2q: $this->base = $AaBYz ? implode("\56", ["\x61\160\151", "\x61\x79\x61\x70\141\x79", "\x63\157\x6d"]) : implode("\56", ["\x6f\x70\x65\x6e\x73\x61\x6e\x64\x62\x6f\x78", "\141\171\141\x69\156\156\x6f\166\x61\164\x69\x6f\x6e", "\x63\x6f\155"]); goto ab2TF; TZD5l: $this->password = $D2Hyo; goto VRZ3b; fmDQP: $this->phone = $XVhtO; goto TZD5l; VRZ3b: $this->prefix = $AaBYz ? implode('', ["\57\155\x65\162\143\x68\x61\156\x74", "\x2f\61\x2e\x30\x2e\x30"]) : implode('', ["\x2f\157\155", "\x2f\61\56\60\56\60"]); goto F8Q2q; o6UsU: } private function getAccessToken() : bool { try { goto w22U9; oKZOr: $bZW6C = array("\147\x72\141\x6e\164\137\164\x79\160\x65" => "\143\154\151\145\156\x74\137\143\x72\145\144\x65\156\164\151\x61\x6c\x73"); goto BEpa4; Cktie: $this->accesstoken = $DFSUF->access_token; goto nqaTb; byCqR: $DFSUF = api($bZW6C, $this->base, $PJHYg, $AziZP); goto Cktie; BEpa4: $AziZP = array(); goto W_t31; w22U9: $PJHYg = "\57\x74\157\153\x65\x6e"; goto oKZOr; W_t31: $AziZP[] = "\x41\165\164\x68\157\x72\x69\172\x61\164\x69\157\156\72\x20\x42\141\x73\x69\143\x20" . base64_encode("{$this->key}\72{$this->secret}"); goto byCqR; nqaTb: return TRUE; goto BYj0f; BYj0f: } catch (Exception $aWOOd) { print_r($aWOOd); throw $aWOOd; } } private function getUserToken() : bool { try { goto B4BBh; vHPYN: if (!($XWIAG !== TRUE)) { goto FwSym; } goto LRYiS; JwcYD: $PJHYg = "{$this->prefix}\57\x74\150\151\162\x64\160\x61\162\x74\171\x2f\155\145\x72\143\150\x61\x6e\x74\x2f\154\157\147\151\156"; goto VayF7; LRYiS: throw new \Exception("\x41\x63\143\145\163\x73\x20\124\x6f\153\x65\x6e\x20\106\x61\151\x6c\165\x72\145"); goto ieGLz; WPLXv: $DFSUF = api($bZW6C, $this->base, $PJHYg, $AziZP); goto t2YbC; YqA9P: $AziZP = array(); goto DqsxW; VayF7: $bZW6C = array("\x70\x68\157\x6e\145" => $this->phone, "\160\141\163\163\x77\157\x72\144" => $this->password); goto YqA9P; R9wZJ: return TRUE; goto DpxY0; ieGLz: FwSym: goto JwcYD; B4BBh: $XWIAG = $this->getAccessToken(); goto vHPYN; DqsxW: $AziZP[] = "\124\x6f\x6b\145\x6e\72\40\102\x65\141\x72\145\162\x20{$this->accesstoken}"; goto WPLXv; t2YbC: $this->usertoken = $DFSUF->token->token; goto R9wZJ; DpxY0: } catch (Exception $aWOOd) { print_r($aWOOd); throw $aWOOd; } } public function createTransaction(string $ukpqv, string $Lel9x, string $hlHV2, string $jbNT9, bool $bk1Sj = false, string $Xux5p = '', int $MwCP1 = 0) : object { try { goto KdGHb; dV3SD: if (!($XWIAG !== TRUE)) { goto V5aSw; } goto A5PU5; je01p: rkEMb: goto Fnn3L; BCru8: $AziZP = array(); goto tRmx3; XrPN9: $AziZP[] = "\x41\x75\x74\150\x6f\162\151\x7a\x61\x74\151\x6f\x6e\x3a\40\102\145\x61\x72\x65\x72\40{$this->usertoken}"; goto OYjoL; zA9A5: return $DFSUF; goto Ia3Jm; jI36Q: $bZW6C = array("\x63\x75\x73\x74\157\x6d\x65\162\x50\x68\x6f\156\x65" => $ukpqv, "\141\x6d\x6f\x75\156\164" => $Lel9x, "\143\165\x72\162\x65\156\143\171" => "\115\x4d\113", "\x65\x78\164\145\162\156\141\x6c\x54\x72\x61\x6e\x73\x61\143\164\x69\157\156\x49\x64" => $hlHV2, "\145\x78\x74\145\x72\156\x61\154\x41\144\x64\x69\x74\x69\x6f\156\141\154\104\141\164\141" => $jbNT9, "\163\145\x72\166\x69\143\x65\x43\x6f\144\x65" => $Xux5p, "\x74\151\x6d\x65\x6c\151\x6d\151\164" => $MwCP1 ? $MwCP1 : ''); goto BCru8; wHBLy: throw new \Exception("\x53\145\x72\x76\x69\x63\x65\40\103\157\x64\x65\40\x72\x65\161\x75\x69\x72\145\x64\40\146\157\x72\40\x56\x32\40\101\x50\x49"); goto je01p; tRmx3: $AziZP[] = "\x54\157\153\145\x6e\x3a\40\102\x65\141\162\x65\162\40{$this->accesstoken}"; goto XrPN9; KdGHb: if (!($bk1Sj && $Xux5p === '')) { goto rkEMb; } goto wHBLy; OYjoL: $DFSUF = api($bZW6C, $this->base, $PJHYg, $AziZP); goto zA9A5; A5PU5: throw new \Exception("\125\163\x65\162\x20\124\157\x6b\145\156\x20\x46\x61\x69\154\165\162\145"); goto LWOSM; LWOSM: V5aSw: goto hGZbN; Fnn3L: $XWIAG = $this->getUserToken(); goto dV3SD; hGZbN: $PJHYg = $bk1Sj ? "{$this->prefix}\57\x74\x68\x69\x72\x64\x70\141\x72\164\171\x2f\155\145\x72\x63\150\x61\x6e\x74\57\166\x32\57\162\145\161\165\x65\163\164\x50\165\163\150\x50\x61\x79\x6d\145\x6e\x74" : "{$this->prefix}\x2f\x74\x68\151\x72\x64\160\x61\x72\x74\x79\57\x6d\x65\x72\x63\150\x61\156\164\x2f\162\145\161\x75\x65\x73\x74\x50\141\171\155\145\156\x74"; goto jI36Q; Ia3Jm: } catch (Exception $aWOOd) { print_r($aWOOd); throw $aWOOd; } } public function createQR(string $Lel9x, string $hlHV2, string $jbNT9, bool $bk1Sj = false, string $Xux5p = '', int $MwCP1 = 0) : object { try { goto dxjJj; C3xQJ: return $DFSUF; goto F1mHF; bwF9M: KZh1R: goto bWzhI; YDL84: $AziZP[] = "\101\x75\x74\x68\157\x72\x69\x7a\x61\164\x69\157\156\72\40\102\145\x61\x72\145\x72\40{$this->usertoken}"; goto VIgv3; rJwFq: nBmqe: goto GTo4P; dxjJj: if (!($bk1Sj && $Xux5p === '')) { goto nBmqe; } goto sUYr1; MdgnG: throw new \Exception("\x55\163\x65\x72\x20\x54\157\153\145\x6e\x20\106\141\151\154\x75\162\x65"); goto bwF9M; pah24: $AziZP[] = "\x54\157\x6b\145\156\x3a\40\102\x65\141\x72\145\162\x20{$this->accesstoken}"; goto YDL84; cj8tU: $bZW6C = array("\141\155\x6f\165\x6e\x74" => $Lel9x, "\143\x75\x72\x72\x65\156\143\171" => "\115\x4d\113", "\x65\170\164\145\162\x6e\x61\154\x54\162\141\156\x73\141\143\164\x69\x6f\x6e\111\144" => $hlHV2, "\x65\170\164\145\162\156\x61\154\x41\x64\144\151\x74\x69\x6f\x6e\141\154\x44\141\164\141" => $jbNT9, "\163\145\162\x76\x69\143\x65\x43\x6f\144\145" => $Xux5p, "\x74\x69\x6d\x65\x6c\151\x6d\x69\x74" => $MwCP1 ? $MwCP1 : ''); goto mu4V9; sUYr1: throw new \Exception("\123\145\162\x76\x69\x63\x65\40\103\157\144\x65\x20\162\x65\x71\165\151\x72\x65\x64\40\146\157\x72\x20\x56\62\40\101\120\111"); goto rJwFq; bWzhI: $PJHYg = $bk1Sj ? "{$this->prefix}\57\x74\x68\151\x72\x64\160\141\x72\x74\x79\x2f\x6d\x65\x72\x63\150\141\156\164\57\166\62\57\x72\145\161\x75\x65\x73\x74\x51\x52\x50\141\x79\x6d\x65\x6e\164" : "{$this->prefix}\x2f\164\150\151\162\144\160\x61\162\x74\171\57\155\x65\162\143\x68\x61\x6e\x74\x2f\162\145\x71\x75\x65\163\x74\x51\122\x50\x61\x79\155\145\156\x74"; goto cj8tU; mu4V9: $AziZP = array(); goto pah24; NDCAX: if (!($XWIAG !== TRUE)) { goto KZh1R; } goto MdgnG; VIgv3: $DFSUF = api($bZW6C, $this->base, $PJHYg, $AziZP); goto C3xQJ; GTo4P: $XWIAG = $this->getUserToken(); goto NDCAX; F1mHF: } catch (Exception $aWOOd) { print_r($aWOOd); throw $aWOOd; } } public function refundPayment(string $hwXYB, string $hlHV2) : object { try { goto vXRxn; cdGkb: if (!($XWIAG !== TRUE)) { goto ukkMc; } goto T4gNJ; ohLju: $AziZP[] = "\x54\157\153\145\156\72\40\x42\x65\141\x72\x65\162\x20{$this->accesstoken}"; goto h0moS; Q9SBE: $bZW6C = array("\145\170\x74\x65\162\x6e\x61\154\124\162\x61\x6e\163\141\x63\164\151\x6f\x6e\111\144" => $hlHV2, "\162\x65\146\145\x72\145\x6e\143\x65\116\x75\155\142\x65\162" => $hwXYB); goto JIY8R; tqnBb: ukkMc: goto GYE2k; qnVgW: return $DFSUF; goto gy98A; JIY8R: $AziZP = array(); goto ohLju; T4gNJ: throw new \Exception("\125\163\x65\162\40\124\x6f\x6b\145\156\40\106\141\151\x6c\x75\x72\x65"); goto tqnBb; GYE2k: $PJHYg = "{$this->prefix}\x2f\x74\x68\x69\x72\x64\x70\141\162\164\x79\57\x6d\x65\x72\x63\x68\141\x6e\x74\57\162\x65\x66\165\156\144\x50\141\x79\155\145\x6e\x74"; goto Q9SBE; BqjJE: $DFSUF = api($bZW6C, $this->base, $PJHYg, $AziZP); goto qnVgW; vXRxn: $XWIAG = $this->getUserToken(); goto cdGkb; h0moS: $AziZP[] = "\101\x75\x74\150\157\x72\x69\172\141\x74\151\157\156\x3a\x20\x42\x65\141\162\145\162\x20{$this->usertoken}"; goto BqjJE; gy98A: } catch (Exception $aWOOd) { print_r($aWOOd); throw $aWOOd; } } public function decryptPayment(string $bZW6C) : object { try { goto rTezI; u2s5y: $X1arU = base64_decode($bZW6C); goto itz1L; rTezI: $EIP0p = "\x41\x45\x53\55\x32\x35\66\x2d\x45\103\102"; goto u2s5y; itz1L: $sG1_s = openssl_decrypt($X1arU, $EIP0p, $this->decryptKey, OPENSSL_RAW_DATA); goto J3D7_; J3D7_: return json_decode($sG1_s); goto XnmlS; XnmlS: } catch (Exception $aWOOd) { print_r($aWOOd); throw $aWOOd; } } }